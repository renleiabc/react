{"version":3,"sources":["images/like.png","components/Header.js","components/PostEditor.js","utils/date.js","components/PostView.js","components/CommentsView.js","components/CommentList.js","utils/request.js","utils/SHA1.js","utils/url.js","components/Post.js","components/PostItem.js","components/PostsView.js","components/PostList.js","components/Home.js","components/Login.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","_this$props","this","props","username","onLogout","location","react_default","a","createElement","className","Link","to","length","type","onClick","value","pathname","state","from","Component","PostEditor","_this","Object","classCallCheck","post","possibleConstructorReturn","getPrototypeOf","call","title","content","handleCancelClick","bind","assertThisInitialized","handleSaveClick","handleChange","e","name","target","setState","console","log","data","onSave","onCancel","onChange","placeholder","contnet","getFormatDate","utc","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","concat","PostView","editable","onEditClick","author","updatedAt","alt","src","like","vote","CommentList","comments","map","item","key","id","handleClick","onSubmit","alert","components_CommentsView","now","secureAppKey","msg","rotate_left","n","s","cvt_hex","val","i","str","toString","blockstart","j","A","B","C","D","E","temp","W","Array","H0","H1","H2","H3","H4","msg_len","string","replace","utftext","c","charCodeAt","String","fromCharCode","Utf8Encode","word_array","push","toLowerCase","SHA1","AppId","headers","Headers","X-APICloud-AppId","X-APICloud-AppKey","Accept","Content-Type","get","url","fetch","method","then","response","handleResponse","catch","err","error","message","body","JSON","stringify","status","json","statusText","postListFilter","fields","limit","order","include","includefilter","user","encodeFilter","filter","encodeURIComponent","where","postByIdFilter","postId","commentListFilter","Post","editing","handleEditClick","handleCommentSubmit","handlePostSave","handlePostCnacel","refreshCommments","refreshPost","_this2","match","params","_this3","savePost","comment","userId","saveComment","_this4","_this5","put","newPost","objectSpread","_this$state","components_PostEditor","components_PostView","components_CommentList","Boolean","PostItem","PostsView","posts","components_PostItem","PostList","handleCancel","handleSave","handleNewPost","refreshPostList","postData","components_PostsView","Home","sessionStorage","getItem","handleLogout","removeItem","redirectToReferrer","components_Header","Route","path","exact","render","components_PostList","assign","components_Post","Login","password","redirectToRferrer","handleSubmit","preventDefault","setItem","Redirect","App","BrowserRouter","Switch","component","window","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.16f76c73.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABzUlEQVRYR+2XQU7CUBCGZ4otKw3uTLQENtquxBPIDcQTqDfQE4gnUG6AJxBPIJ5AdkU3GoqJO4Gd7wljWorQvrapQh8xsds2M9/88978U4QlP7jk/PD3AaytlTIqeOMoSSM6NLufzZ+oOrcCVl6rIsD5OCn1sgNeLPaglxRifgBdbSLi/jQhnRkdfiUNoK2rLUDc/U5IcGvYrCIF4GlTLY0y+DCbjIjuTZuXpQBYulpHxKOlAIRV7x5DGQo85yD3saY50hcEqUdUM7r8NNUWWMLJn6ZDGh7u2MNGKgBO5WxVvSTE46gExFjRfIOXXwE4U01RlJk7PQ6jDVjNGS5tXWsAwkFccASoxr2fxJp84xtE0dKOh0uc9EkrhsAZ8QP4xurMbAO4MDusuhCAwKCSDkBeMeEtkKBA8JbIVyBwS3wAj3qmQphxvd03Xhd2BqhvdHhuNrZfAXe5UO5SAwhxSrkAIO4KUgGUIe1tv/JWZAs8k3lPpwVi/508wkrWzmuUBgARXZs2FzxEJsCJafN6sDhpANkBWw/blkWA4JLpbDneHEjihqGmFLOohgCEWa7nhhtQANXdAwXLjnZD6hPjpagdYe7/gsQ2HPHhP8AXr5kcMA++kXUAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nclass Header extends Component {\r\n  render() {\r\n    const { username, onLogout, location } = this.props\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"nav\">\r\n          <span className=\"left-link\">\r\n            <Link to=\"/\">首页</Link>\r\n          </span>\r\n          {/* 用户已登录， 显示登录用户的信息； 否则显示登录按钮 */}\r\n          {username && username.length > 0 ? (\r\n            <span className=\"user\">\r\n              当前用户：{username}&nbsp;\r\n              <input type=\"button\" onClick={onLogout} value=\"注销\"/>\r\n            </span>\r\n          ) : (\r\n            <span className=\"right-link\">\r\n              {/* 通过state属性， 保存当前页面的地址 */}\r\n              <Link to={{ pathname: '/login', state: { from: location } }}>\r\n                登录\r\n              </Link>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Header\r\n","import React, { Component } from 'react'\r\n\r\nclass PostEditor extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    const { post } = this.props\r\n    this.state = {\r\n      title: (post && post.title) || '',\r\n      content: (post && post.content) || ''\r\n    }\r\n    this.handleCancelClick = this.handleCancelClick.bind(this)\r\n    this.handleSaveClick = this.handleSaveClick.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  //处理帖子的编辑信息\r\n  handleChange(e) {\r\n    const name = e.target.name\r\n    if (name === 'title') {\r\n      this.setState({\r\n        title: e.target.value\r\n      })\r\n    } else if (name === 'content') {\r\n      this.setState({\r\n        content: e.target.value\r\n      })\r\n    } else {\r\n      console.log('do nothing')\r\n    }\r\n  }\r\n  // 保存帖子\r\n  handleSaveClick() {\r\n    const data = { title: this.state.title, content: this.state.content }\r\n    // // 调用父组件的回调函数执行真正的保存逻辑\r\n    this.props.onSave(data)\r\n  }\r\n  // 取消帖子的编辑\r\n  handleCancelClick() {\r\n    this.props.onCancel()\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"postEditor\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={this.state.title}\r\n          onChange={this.handleChange}\r\n        />\r\n        <textarea\r\n          name=\"content\"\r\n          placeholder=\"内容\"\r\n          value={this.state.contnet}\r\n          onChange={this.handleChange}\r\n        />\r\n        <button onClick={this.handleCancelClick}>取消</button>\r\n            <button onClick={this.handleSaveClick} className=\"editor-save\">保存</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PostEditor\r\n","export function getFormatDate(utc) {\n  const date = new Date(utc);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1 + \"\";\n  month = month.length === 1 ? \"0\" + month : month;\n  let day = date.getDate() + \"\";\n  day = day.length === 1 ? \"0\" + day : day;\n  let hour = date.getHours() + \"\";\n  hour = hour.length === 1 ? \"0\" + hour : hour;\n  let minute = date.getMinutes() + \"\";\n  minute = minute.length === 1 ? \"0\" + minute : minute;\n  return `${year}-${month}-${day} ${hour}:${minute}`;\n}","import React from \"react\";\r\nimport { getFormatDate } from \"../utils/date\";\r\nimport \"../sass/postView.scss\";\r\nimport like from \"../images/like.png\";\r\n// 单个帖子的展示\r\nfunction PostView(props) {\r\n    console.log(props)\r\n    const { post, editable, onEditClick } = props;\r\n    return (\r\n        <div className=\"postView\">\r\n            <div>\r\n                <h2>{post.title}</h2>\r\n                <div className=\"mark\">\r\n                    <span className=\"author\">{post.author.username}</span>\r\n                    <span>·</span>\r\n                    <span>{getFormatDate(post.updatedAt)}</span>\r\n                    {editable ? (\r\n                        <span>\r\n                            ·<button onClick={onEditClick}>编辑</button>\r\n                        </span>\r\n                    ) : null}\r\n                </div>\r\n                <div className=\"content\">{post.content}</div>\r\n            </div>\r\n            <div className=\"vote\">\r\n                <span>\r\n                    <img alt=\"vote\" src={like} />\r\n                </span>\r\n                <span>{post.vote}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostView;\r\n","import React, { Component } from 'react'\r\nimport { getFormatDate } from '../utils/date'\r\nimport '../sass/CommentsView.scss'\r\n// 用于显示评论内容的组件\r\nclass CommentList extends Component {\r\n  render() {\r\n    const { comments } = this.props\r\n    console.log(comments)\r\n    return (\r\n      <ul className=\"commentsView\">\r\n        {comments.map(item => {\r\n          console.log(item.author)\r\n\r\n          return (\r\n            <li key={item.id}>\r\n              <div>{item.content}</div>\r\n              <div className=\"sub\">\r\n                {item.author ? (\r\n                  <span>{item.author.username}</span>\r\n                ) : (\r\n                  <span>匿名</span>\r\n                )}\r\n                <span>•</span>\r\n                <span>{getFormatDate(item.updatedAt)}</span>\r\n              </div>\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\nexport default CommentList\r\n","import React, { Component } from 'react'\r\nimport CommentsView from './CommentsView'\r\n\r\nimport '../sass/CommentList.scss'\r\n// 用于显示评论列表的组件\r\nclass CommentList extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      value: ''\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n  //处理新评论内容的变化\r\n  handleChange(e) {\r\n    this.setState({\r\n      value: e.target.value\r\n    })\r\n  }\r\n  //保存新评论\r\n  handleClick(e) {\r\n    const content = this.state.value\r\n    if (content.length > 0) {\r\n      this.props.onSubmit(this.state.value)\r\n      this.setState({\r\n        value: ''\r\n      })\r\n    } else {\r\n      alert('评论内容不能为空！ ')\r\n    }\r\n  }\r\n  render() {\r\n    const { comments, editable } = this.props\r\n    return (\r\n      <div className=\"commentList\">\r\n        {/* 只有登录状态， 才允许新建评论 */}\r\n\r\n        <div className=\"title\">\r\n                <div className=\"comments\">评论</div>\r\n          {editable ? (\r\n            <div className=\"editor\">\r\n              <textarea\r\n                placeholder=\"说说你的看法\"\r\n                value={this.state.value}\r\n                onChange={this.handleChange}\r\n              />\r\n              <button onClick={this.handleClick}>提交</button>\r\n            </div>\r\n          ) : null}\r\n          <CommentsView comments={comments} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default CommentList\r\n","import {SHA1} from \"./SHA1\";\n\nconst AppId = \"A6053788184630\";\nconst AppKey = \"8B3F5860-2646-2C47-DC50-39106919B260\";\nvar now = Date.now();\nconst secureAppKey = SHA1(AppId+\"UZ\"+AppKey+\"UZ\"+now)+\".\"+now;\n\nconst headers = new Headers({\n  \"X-APICloud-AppId\": AppId,\n  \"X-APICloud-AppKey\": secureAppKey,\n  \"Accept\": \"application/json\",\n  \"Content-Type\": \"application/json\"\n});\n\nfunction get(url) {\n  return fetch(url, {\n    method: \"GET\",\n    headers: headers,\n  }).then(response => {\n    return handleResponse(url, response);\n  }).catch(err => {\n    console.error(`Request failed. Url = ${url} . Message = ${err}`);\n    return {error: {message: \"Request failed.\"}};\n  })\n}\n\nfunction post(url, data) {\n  return fetch(url, {\n    method: \"POST\",\n    headers: headers,\n    body: JSON.stringify(data)\n  }).then(response => {\n    return handleResponse(url, response);\n  }).catch(err => {\n    console.error(`Request failed. Url = ${url} . Message = ${err}`);\n    return {error: {message: \"Request failed.\"}};\n  })\n}\n\nfunction put(url, data) {\n  return fetch(url, {\n    method: \"PUT\",\n    headers: headers,\n    body: JSON.stringify(data)\n  }).then(response => {\n    return handleResponse(url, response);\n  }).catch(err => {\n    console.error(`Request failed. Url = ${url} . Message = ${err}`);\n    return {error: {message: \"Request failed.\"}};\n  })\n}\n\nfunction handleResponse(url, response) {\n  if(response.status < 500){\n    return response.json();\n  }else{\n    console.error(`Request failed. Url = ${url} . Message = ${response.statusText}`);\n    return {error: {message: \"Request failed due to server error \"}};\n  }\n}\n\nexport {get, post, put}","/* eslint-disable */\n/**\n *\n *  Secure Hash Algorithm (SHA1)\n *\n **/\nexport function SHA1(msg) {\n  function rotate_left(n, s) {\n    var t4 = (n << s) | (n >>> (32 - s));\n    return t4;\n  }\n\n  function lsb_hex(val) {\n    var str = \"\";\n    var i;\n    var vh;\n    var vl;\n\n    for (i = 0; i <= 6; i += 2) {\n      vh = (val >>> (i * 4 + 4)) & 0x0f;\n      vl = (val >>> (i * 4)) & 0x0f;\n      str += vh.toString(16) + vl.toString(16);\n    }\n    return str;\n  }\n\n  function cvt_hex(val) {\n    var str = \"\";\n    var i;\n    var v;\n\n    for (i = 7; i >= 0; i--) {\n      v = (val >>> (i * 4)) & 0x0f;\n      str += v.toString(16);\n    }\n    return str;\n  }\n\n  function Utf8Encode(string) {\n    string = string.replace(/\\r\\n/g, \"\\n\");\n    var utftext = \"\";\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    }\n\n    return utftext;\n  }\n\n  var blockstart;\n  var i, j;\n  var W = new Array(80);\n  var H0 = 0x67452301;\n  var H1 = 0xefcdab89;\n  var H2 = 0x98badcfe;\n  var H3 = 0x10325476;\n  var H4 = 0xc3d2e1f0;\n  var A, B, C, D, E;\n  var temp;\n\n  msg = Utf8Encode(msg);\n\n  var msg_len = msg.length;\n\n  var word_array = new Array();\n  for (i = 0; i < msg_len - 3; i += 4) {\n    j =\n      (msg.charCodeAt(i) << 24) |\n      (msg.charCodeAt(i + 1) << 16) |\n      (msg.charCodeAt(i + 2) << 8) |\n      msg.charCodeAt(i + 3);\n    word_array.push(j);\n  }\n\n  switch (msg_len % 4) {\n    case 0:\n      i = 0x080000000;\n      break;\n    case 1:\n      i = (msg.charCodeAt(msg_len - 1) << 24) | 0x0800000;\n      break;\n\n    case 2:\n      i =\n        (msg.charCodeAt(msg_len - 2) << 24) |\n        (msg.charCodeAt(msg_len - 1) << 16) |\n        0x08000;\n      break;\n\n    case 3:\n      i =\n        (msg.charCodeAt(msg_len - 3) << 24) |\n        (msg.charCodeAt(msg_len - 2) << 16) |\n        (msg.charCodeAt(msg_len - 1) << 8) |\n        0x80;\n      break;\n  }\n\n  word_array.push(i);\n\n  while (word_array.length % 16 != 14) word_array.push(0);\n\n  word_array.push(msg_len >>> 29);\n  word_array.push((msg_len << 3) & 0x0ffffffff);\n\n  for (blockstart = 0; blockstart < word_array.length; blockstart += 16) {\n    for (i = 0; i < 16; i++) W[i] = word_array[blockstart + i];\n    for (i = 16; i <= 79; i++)\n      W[i] = rotate_left(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n\n    A = H0;\n    B = H1;\n    C = H2;\n    D = H3;\n    E = H4;\n\n    for (i = 0; i <= 19; i++) {\n      temp =\n        (rotate_left(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5a827999) &\n        0x0ffffffff;\n      E = D;\n      D = C;\n      C = rotate_left(B, 30);\n      B = A;\n      A = temp;\n    }\n\n    for (i = 20; i <= 39; i++) {\n      temp =\n        (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ed9eba1) & 0x0ffffffff;\n      E = D;\n      D = C;\n      C = rotate_left(B, 30);\n      B = A;\n      A = temp;\n    }\n\n    for (i = 40; i <= 59; i++) {\n      temp =\n        (rotate_left(A, 5) +\n          ((B & C) | (B & D) | (C & D)) +\n          E +\n          W[i] +\n          0x8f1bbcdc) &\n        0x0ffffffff;\n      E = D;\n      D = C;\n      C = rotate_left(B, 30);\n      B = A;\n      A = temp;\n    }\n\n    for (i = 60; i <= 79; i++) {\n      temp =\n        (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0xca62c1d6) & 0x0ffffffff;\n      E = D;\n      D = C;\n      C = rotate_left(B, 30);\n      B = A;\n      A = temp;\n    }\n\n    H0 = (H0 + A) & 0x0ffffffff;\n    H1 = (H1 + B) & 0x0ffffffff;\n    H2 = (H2 + C) & 0x0ffffffff;\n    H3 = (H3 + D) & 0x0ffffffff;\n    H4 = (H4 + E) & 0x0ffffffff;\n  }\n\n  var temp =\n    cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4);\n\n  return temp.toLowerCase();\n}\n","// 获取帖子列表的过滤条件\nconst postListFilter = {\n  fields: [\"id\", \"title\", \"author\", \"vote\", \"updatedAt\"],\n  limit: 10,\n  order: \"updatedAt DESC\",\n  include: \"authorPointer\",\n  includefilter: { user: { fields: [\"id\", \"username\"] } }\n};\n\n// 获取帖子详情的过滤条件\nconst postByIdFilter = id => ({\n  fields: [\"id\", \"title\", \"author\", \"vote\", \"updatedAt\", \"content\"],\n  where: { id: id },\n  include: \"authorPointer\",\n  includefilter: { user: { fields: [\"id\", \"username\"] } }\n});\n\n// 获取评论列表的过滤条件\nconst commentListFilter = postId => ({\n  fields: [\"id\", \"author\", \"updatedAt\", \"content\"],\n  where: { post: postId },\n  limit: 20,\n  order: \"updatedAt DESC\",\n  include: \"authorPointer\",\n  includefilter: { user: { fields: [\"id\", \"username\"] } }\n});\n\nfunction encodeFilter(filter) {\n  return encodeURIComponent(JSON.stringify(filter));\n}\n\nexport default {\n  // 登录\n  login: () => \"/user/login\",\n  // 获取帖子列表\n  getPostList: () => `/post?filter=${encodeFilter(postListFilter)}`,\n  // 获取帖子详情\n  getPostById: id => `/post?filter=${encodeFilter(postByIdFilter(id))}`,\n  // 新建帖子\n  createPost: () => \"/post\",\n  // 修改帖子\n  updatePost: id => `/post/${id}`,\n  // 获取评论列表\n  getCommentList: postId =>\n    `/comment?filter=${encodeFilter(commentListFilter(postId))}`,\n  // 新建评论  \n  createComment: () => \"/comment\"\n};\n","import React, { Component } from 'react'\r\nimport PostEditor from './PostEditor'\r\nimport PostView from './PostView'\r\nimport CommentList from './CommentList'\r\nimport { get, put, post } from '../utils/request'\r\nimport url from '../utils/url'\r\nimport '../sass/post.scss'\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      post: null,\r\n      comments: [],\r\n      editing: false\r\n    }\r\n    this.handleEditClick = this.handleEditClick.bind(this)\r\n    this.handleCommentSubmit = this.handleCommentSubmit.bind(this)\r\n    this.handlePostSave = this.handlePostSave.bind(this)\r\n    this.handlePostCnacel = this.handlePostCnacel.bind(this)\r\n    this.refreshCommments = this.refreshCommments.bind(this)\r\n    this.refreshPost = this.refreshPost.bind(this)\r\n  }\r\n  componentDidMount() {\r\n    this.refreshCommments()\r\n    this.refreshPost()\r\n  }\r\n  // 获取帖子详情\r\n  refreshPost() {\r\n    const postId = this.props.match.params.id\r\n    get(url.getPostById(postId)).then(data => {\r\n      if (!data.error && data.length === 1) {\r\n        this.setState({\r\n          post: data[0]\r\n        })\r\n      }\r\n    })\r\n  }\r\n  // 获取评论列表\r\n  refreshCommments() {\r\n    const postId = this.props.match.params.id\r\n    get(url.getCommentList(postId)).then(data => {\r\n      if (!data.error) {\r\n        this.setState({\r\n          comments: data\r\n        })\r\n      }\r\n    })\r\n  }\r\n  // 让帖子处于编辑态\r\n  handleEditClick() {\r\n    this.setState({\r\n      editing: true\r\n    })\r\n  }\r\n  //保存帖子\r\n  handlePostSave(data) {\r\n    const id = this.props.match.params.id\r\n    this.savePost(id, data)\r\n  }\r\n  // 取消编辑帖子\r\n  handlePostCnacel() {\r\n    this.setState({\r\n      editing: false\r\n    })\r\n  }\r\n  //提交新建的评论\r\n  handleCommentSubmit(content) {\r\n    const postId = this.props.match.params.id\r\n    const comment = {\r\n      author: this.props.userId,\r\n      post: postId,\r\n      content: content\r\n    }\r\n    this.saveComment(comment)\r\n  }\r\n  //保存新的评论到服务器\r\n  saveComment(comment) {\r\n    post(url.createComment(), comment).then(data => {\r\n      if (!data.error) {\r\n        this.refreshCommments()\r\n      }\r\n    })\r\n  }\r\n  //同步帖子的修改到服务器\r\n  savePost(id, post) {\r\n    put(url.updatePost(id), post).then(data => {\r\n      if (!data.error) {\r\n        /* 因为返回的帖子对象只有author的id信息，\r\n         * 所有需要额外把完整的author信息合并到帖子对象中 */\r\n        const newPost = {\r\n          ...data,\r\n          author: this.state.post.author\r\n        }\r\n        this.setState({\r\n          post: newPost,\r\n          editing: false\r\n        })\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { post, comments, editing } = this.state\r\n    console.log(post)\r\n    const { userId } = this.props\r\n    if (!post) {\r\n      return null\r\n    }\r\n    const editable = userId === post.author.id\r\n    return (\r\n      <div className=\"post\">\r\n        {editing ? (\r\n          <PostEditor\r\n            post={post}\r\n            onSave={this.handlePostSave}\r\n            onCancel={this.handlePostCnacel}\r\n          />\r\n        ) : (\r\n          <PostView\r\n            post={post}\r\n            editable={editable}\r\n            onEditClick={this.handleEditClick}\r\n          />\r\n        )}\r\n        {/* PostView负责展示某一个帖子*/}\r\n        <CommentList\r\n          comments={comments}\r\n          editable={Boolean(userId)}\r\n          onSubmit={this.handleCommentSubmit}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport { getFormatDate } from '../utils/date'\r\nimport like from '../images/like.png'\r\n/**\r\n * PostItem组件用于渲染帖子列表的每一项， 它不负责任何业务逻\r\n辑， 只关注组件的渲染， 我们使用一个无状态的函数组件实现\r\nPostItem。 components/PostItem.js的代码如下：\r\n */\r\nfunction PostItem(props) {\r\n  const { post } = props\r\n  return <li className=\"postItem\">\r\n      <div className=\"title\">{post.title}</div>\r\n      <div>\r\n        创建人：<span>{post.author.username}</span>\r\n      </div>\r\n      <div>\r\n        更新时间：<span>{getFormatDate(post.updatedAt)}</span>\r\n      </div>\r\n      <div className=\"like\">\r\n        <span>\r\n          <img alt=\"vote\" src={like} />\r\n          </span>\r\n          <span>\r\n              {post.vote}\r\n          </span>\r\n      </div>\r\n    </li>\r\n}\r\n\r\nexport default PostItem\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport PostItem from './PostItem'\r\n\r\nclass PostsView extends Component {\r\n  render() {\r\n    const { posts } = this.props\r\n\r\n    return (\r\n      <ul>\r\n        {posts.map(item => (\r\n          // 使用Link组件包裹每一个PostItem\r\n          <Link key={item.id} to={`/posts/${item.id}`}>\r\n            <PostItem post={item} />\r\n          </Link>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PostsView\r\n","import React, { Component } from 'react'\r\nimport PostsView from './PostsView'\r\nimport PostEditor from './PostEditor'\r\nimport { get, post } from '../utils/request'\r\nimport url from '../utils/url'\r\n\r\nclass PostList extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      posts: [],\r\n      newPost: false\r\n    }\r\n    this.handleCancel = this.handleCancel.bind(this)\r\n    this.handleSave = this.handleSave.bind(this)\r\n    this.handleNewPost = this.handleNewPost.bind(this)\r\n    this.refreshPostList = this.refreshPostList.bind(this)\r\n  }\r\n  //在组件被挂载到DOM后调用， 且只会被调用一次。\r\n  componentDidMount() {\r\n    this.refreshPostList()\r\n  }\r\n  //获取帖子列表\r\n  refreshPostList() {\r\n    // 调用后台API获取列表数据， 并将返回的数据设置到state中\r\n    get(url.getPostList()).then(data => {\r\n      if (!data.error) {\r\n        this.setState({\r\n          posts: data,\r\n          newPost: false\r\n        })\r\n      }\r\n    })\r\n  }\r\n  // 保存帖子\r\n  handleSave(data) {\r\n    // 当前登录用户的信息和默认的点赞数， 同帖子的标题和内容， 共同构成最终待保存的帖子对象\r\n    const postData = {\r\n      ...data,\r\n      author: this.props.userId,\r\n      vote: 0\r\n    }\r\n    post(url.createPost(), postData).then(data => {\r\n      if (!data.error) {\r\n        // 保存成功后， 刷新帖子列表\r\n        this.refreshPostList()\r\n      }\r\n    })\r\n  }\r\n  // 取消新建帖子\r\n  handleCancel() {\r\n    this.setState({\r\n      newPost: false\r\n    })\r\n  }\r\n  //新建帖子\r\n  handleNewPost() {\r\n    this.setState({\r\n      newPost: true\r\n    })\r\n  }\r\n  render() {\r\n    const { userId } = this.props\r\n    return (\r\n      <div className=\"postList\">\r\n        <div>\r\n          <h2>帖子列表</h2>\r\n          {/* 只有在登录状态， 才显示发帖按钮 */}\r\n          {userId ? <button onClick={this.handleNewPost}>发帖</button> : null}\r\n        </div>\r\n        {/* 若当前正在创建新帖子， 则渲染PostEditor组件 */}\r\n        {this.state.newPost ? (\r\n          <PostEditor onSave={this.handleSave} onCancel={this.handleCancel} />\r\n        ) : null}\r\n        {/* PostsView显示帖子的列表数据 */}\r\n        <PostsView posts={this.state.posts} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PostList\r\n","import React, { Component } from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport Header from './Header'\r\nimport Post from './Post'\r\nimport PostList from './PostList'\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      userId: sessionStorage.getItem('userId'),\r\n      username: sessionStorage.getItem('username')\r\n    }\r\n    this.handleLogout = this.handleLogout.bind(this)\r\n  }\r\n\r\n  handleLogout() {\r\n    // 注销用户\r\n    sessionStorage.removeItem('userId')\r\n    sessionStorage.removeItem('username')\r\n    this.setState({\r\n      userId: null,\r\n      username: null,\r\n      redirectToReferrer: false\r\n    })\r\n  }\r\n  render() {\r\n    const { match, location } = this.props\r\n\r\n    console.log(location)\r\n    const { username, userId } = this.state\r\n    return (\r\n      <div>\r\n        <Header\r\n          username={username}\r\n          onLogout={this.handleLogout}\r\n          location={location}\r\n        />\r\n        {/* 帖子列表路由配置 */}\r\n        <Route\r\n          path={match.url}\r\n          exact\r\n          render={props => <PostList userId={userId} {...props} />}\r\n        />\r\n        {/* 帖子详情路由配置 */}\r\n        <Route\r\n          path={`${match.url}/:id`}\r\n          render={props => <Post userId={userId} {...props} />}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Home\r\n","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { post } from '../utils/request'\r\nimport url from '../utils/url'\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: 'jack',\r\n      password: '123456',\r\n      redirectToRferrer: false // 是否重定向到之前的页面\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n  // 处理用户名、密码的变化\r\n  handleChange(e) {\r\n    if (e.target.name === 'username') {\r\n      this.setState({\r\n        username: e.target.value\r\n      })\r\n    } else if (e.target.name === 'password') {\r\n      this.setState({\r\n        password: e.target.value\r\n      })\r\n    } else {\r\n      console.log('do nothing')\r\n    }\r\n  }\r\n  /// 提交登录表单\r\n  handleSubmit(e) {\r\n    e.preventDefault()\r\n    const username = this.state.username\r\n    const password = this.state.password\r\n    if (username.length === 0 || password.length === 0) {\r\n      alert('用户名或者密码不能为空')\r\n      return\r\n    }\r\n    const params = {\r\n      username,\r\n      password\r\n    }\r\n    post(url.login(), params).then(data => {\r\n      console.log(data.userId)\r\n      if (data.error) {\r\n        alert(data.error.message || 'login failed')\r\n      } else {\r\n        // 保存登录信息到sessionStorage\r\n        sessionStorage.setItem('userId', data.userId)\r\n        sessionStorage.setItem('username', username)\r\n        this.setState({\r\n          redirectToRferrer: true\r\n        })\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    // from 保存跳转到登录页前的页面路径， 用于在登录成功后重定向到原来的页面\r\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\r\n    const { redirectToRferrer } = this.state\r\n    console.log(redirectToRferrer)\r\n    console.log(this.props.location.state)\r\n    if (redirectToRferrer) {\r\n      return <Redirect to={from} />\r\n    }\r\n    return (\r\n      <div className=\"login\">\r\n        <form className=\"login-form\" onSubmit={this.handleSubmit}>\r\n          <div className=\"label-login\">\r\n            <span>用户名：</span>\r\n            <input\r\n              name=\"username\"\r\n              type=\"text\"\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"label-login\">\r\n            <span>密码：</span>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          <input type=\"submit\" value=\"登录\" className=\"submit-login\" />\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Home from \"./components/Home\"\nimport Login from \"./components/Login\"\n\nclass App extends Component {\n  render() {\n    return <Router>\n        <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/posts\" component={Home} />\n        </Switch>\n      </Router>\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./sass/index.scss\"\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}